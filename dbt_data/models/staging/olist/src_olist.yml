version: 2

sources:
  - name: olist
    description: >
      Source tables which consists of reference tables from Airflow batch job and CDC tables from Debezium+Kafka streaming job.
      The data are collected from PostgreSQL.      
    schema: raw
    tables:
      - name: product_categories
        description: Reference table for product categories information.
        columns:
          - name: product_category_id
            description: Primary key of the table.
            tests:
              - not_null
          - name: product_category_name_spanish
            description: The category name in Spanish.
          - name: product_category_name_english
            description: The category name in English.
          - name: created_at
            description: Product category information creation timestamp.
          - name: updated_at
            description: Product category information update timestamp.
          - name: deleted_at
            description: Product category information deletion timestamp.
      - database: raw
        name: mv_products
        description: Materialized table of products, created from CDC table.
        columns:
        - name: product_id
          tests:
            - not_null